<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则表达式 cheatsheet &amp; 实例 | 正经博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="陈俊生的正经博客">
    
    <link rel="preload" href="/assets/css/0.styles.985c0261.css" as="style"><link rel="preload" href="/assets/js/app.efdf1017.js" as="script"><link rel="preload" href="/assets/js/2.d444b0a2.js" as="script"><link rel="preload" href="/assets/js/1.7ca1e89d.js" as="script"><link rel="preload" href="/assets/js/39.2f9ba8d7.js" as="script"><link rel="prefetch" href="/assets/js/10.1a004c10.js"><link rel="prefetch" href="/assets/js/11.6560bed7.js"><link rel="prefetch" href="/assets/js/12.20398b1f.js"><link rel="prefetch" href="/assets/js/13.6f95ee0c.js"><link rel="prefetch" href="/assets/js/14.782f19f1.js"><link rel="prefetch" href="/assets/js/15.d25bd3fe.js"><link rel="prefetch" href="/assets/js/16.97c2c4a8.js"><link rel="prefetch" href="/assets/js/17.895b550f.js"><link rel="prefetch" href="/assets/js/18.cdc68d17.js"><link rel="prefetch" href="/assets/js/19.ef8e3a48.js"><link rel="prefetch" href="/assets/js/20.b5d8c482.js"><link rel="prefetch" href="/assets/js/21.2980ee98.js"><link rel="prefetch" href="/assets/js/22.b16736cf.js"><link rel="prefetch" href="/assets/js/23.221060a2.js"><link rel="prefetch" href="/assets/js/24.bb5e2239.js"><link rel="prefetch" href="/assets/js/25.65cbc6a7.js"><link rel="prefetch" href="/assets/js/26.ee90196a.js"><link rel="prefetch" href="/assets/js/27.101bf521.js"><link rel="prefetch" href="/assets/js/28.35ac7c38.js"><link rel="prefetch" href="/assets/js/29.aacd3977.js"><link rel="prefetch" href="/assets/js/3.5ff63961.js"><link rel="prefetch" href="/assets/js/30.68a43ff9.js"><link rel="prefetch" href="/assets/js/31.cc9a91ad.js"><link rel="prefetch" href="/assets/js/32.12ebb196.js"><link rel="prefetch" href="/assets/js/33.a4383cda.js"><link rel="prefetch" href="/assets/js/34.bfa72010.js"><link rel="prefetch" href="/assets/js/35.aeb2002f.js"><link rel="prefetch" href="/assets/js/36.0a918e07.js"><link rel="prefetch" href="/assets/js/37.e00295cb.js"><link rel="prefetch" href="/assets/js/38.da376bbb.js"><link rel="prefetch" href="/assets/js/4.86934754.js"><link rel="prefetch" href="/assets/js/40.86d171b4.js"><link rel="prefetch" href="/assets/js/41.f1a79136.js"><link rel="prefetch" href="/assets/js/42.f7b4a720.js"><link rel="prefetch" href="/assets/js/43.b824f47f.js"><link rel="prefetch" href="/assets/js/44.b54f4a3e.js"><link rel="prefetch" href="/assets/js/45.2aae7666.js"><link rel="prefetch" href="/assets/js/46.185897cf.js"><link rel="prefetch" href="/assets/js/47.b5418ff9.js"><link rel="prefetch" href="/assets/js/48.099d6193.js"><link rel="prefetch" href="/assets/js/49.18417fbf.js"><link rel="prefetch" href="/assets/js/5.ed646e61.js"><link rel="prefetch" href="/assets/js/50.852f955c.js"><link rel="prefetch" href="/assets/js/51.b571fc7f.js"><link rel="prefetch" href="/assets/js/52.05037053.js"><link rel="prefetch" href="/assets/js/53.69bf0a82.js"><link rel="prefetch" href="/assets/js/54.9449705b.js"><link rel="prefetch" href="/assets/js/55.899be268.js"><link rel="prefetch" href="/assets/js/56.b40737e3.js"><link rel="prefetch" href="/assets/js/57.4e74d18a.js"><link rel="prefetch" href="/assets/js/58.4ba1d249.js"><link rel="prefetch" href="/assets/js/59.9a911d76.js"><link rel="prefetch" href="/assets/js/6.b1c318f0.js"><link rel="prefetch" href="/assets/js/60.cc0e0926.js"><link rel="prefetch" href="/assets/js/61.24ba53e0.js"><link rel="prefetch" href="/assets/js/62.6ff74996.js"><link rel="prefetch" href="/assets/js/63.d31d2aac.js"><link rel="prefetch" href="/assets/js/64.d14c4015.js"><link rel="prefetch" href="/assets/js/65.124611bc.js"><link rel="prefetch" href="/assets/js/66.da3bf42d.js"><link rel="prefetch" href="/assets/js/67.e17449ef.js"><link rel="prefetch" href="/assets/js/68.ce06c506.js"><link rel="prefetch" href="/assets/js/69.dbda80ad.js"><link rel="prefetch" href="/assets/js/7.f368e4d8.js"><link rel="prefetch" href="/assets/js/70.33b15820.js"><link rel="prefetch" href="/assets/js/71.c74741b4.js"><link rel="prefetch" href="/assets/js/72.b5e33ea4.js"><link rel="prefetch" href="/assets/js/73.5d09bd2e.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.12181bb4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.985c0261.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">正经博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/aboutme.html" class="nav-link">
  About Me
</a></div> <a href="https://github.com/hentaicracker/new-blog/tree/vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/aboutme.html" class="nav-link">
  About Me
</a></div> <a href="https://github.com/hentaicracker/new-blog/tree/vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2025</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2025/zongjie.html" class="sidebar-link">2024 &amp; 2025</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2024</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2024/jietu.html" class="sidebar-link">长截图生成实践</a></li><li><a href="/2024/zongjie.html" class="sidebar-link">2023 &amp; 2024</a></li><li><a href="/2024/chengzhang.html" class="sidebar-link">工程师的自我修养</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2023</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2023/suibi.html" class="sidebar-link">路遥远，我们一起走</a></li><li><a href="/2023/rust-1.html" class="sidebar-link">《Rust 程序设计语言》读书笔记</a></li><li><a href="/2023/docker.html" class="sidebar-link">使用 Docker 搭建开发环境</a></li><li><a href="/2023/zongjie.html" class="sidebar-link">Do not be afraid</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2022</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2022/skia.html" class="sidebar-link">使用 Skia 绘制 2D 图形</a></li><li><a href="/2022/mf.html" class="sidebar-link">基于 MF 的组件化共享工作流 - Qcon 广州演讲整理</a></li><li><a href="/2022/zongjie.html" class="sidebar-link">2021 年终总结</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2021</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2021/docker-osx.html" class="sidebar-link">使用 docker-osx 搭建 macos 构建环境</a></li><li><a href="/2021/zongjie.html" class="sidebar-link">工作 5 年</a></li><li><a href="/2021/deco.html" class="sidebar-link">解构 Deco 编辑器</a></li><li><a href="/2021/py.html" class="sidebar-link">面向前端工程师的 Python 快速入门（30min）</a></li><li><a href="/2021/ts.html" class="sidebar-link">TypeScript 类型编程</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2020</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2020/deco.html" class="sidebar-link">Deco 图层处理层简明介绍</a></li><li><a href="/2020/rAF.html" class="sidebar-link">requestAnimationFrame 执行机制探索</a></li><li><a href="/2020/aopioc.html" class="sidebar-link">Nodejs AOP 与 IOC 实践</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2019</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2019/hooks.html" class="sidebar-link">使用 React Hooks + Context 打造简版 Redux</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2018</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2018/lazyload.html" class="sidebar-link">图片懒加载踩坑</a></li><li><a href="/2018/protocol.html" class="sidebar-link">互联网协议梳理</a></li><li><a href="/2018/authenticate.html" class="sidebar-link">用户认证流程梳理</a></li><li><a href="/2018/http.html" class="sidebar-link">HTTP 详细</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>2017</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2017/2017-08-06.html" class="sidebar-link">《硅谷钢铁侠——马斯克的冒险人生》读书笔记</a></li><li><a href="/2017/jsTips.html" class="sidebar-link">JavaScript Tips</a></li><li><a href="/2017/regexp.html" aria-current="page" class="active sidebar-link">正则表达式 cheatsheet &amp; 实例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/2017/regexp.html#匹配字符" class="sidebar-link">匹配字符</a></li><li class="sidebar-sub-header"><a href="/2017/regexp.html#匹配位置" class="sidebar-link">匹配位置</a></li><li class="sidebar-sub-header"><a href="/2017/regexp.html#括号分组" class="sidebar-link">括号分组</a></li><li class="sidebar-sub-header"><a href="/2017/regexp.html#flags" class="sidebar-link">Flags</a></li><li class="sidebar-sub-header"><a href="/2017/regexp.html#运算优先级" class="sidebar-link">运算优先级</a></li><li class="sidebar-sub-header"><a href="/2017/regexp.html#反斜杠匹配速查" class="sidebar-link">反斜杠匹配速查</a></li><li class="sidebar-sub-header"><a href="/2017/regexp.html#regexp" class="sidebar-link">RegExp</a></li></ul></li><li><a href="/2017/string.html" class="sidebar-link">String 踩坑</a></li><li><a href="/2017/ydkjs-1.html" class="sidebar-link">《You don't know JavaScirpt》</a></li><li><a href="/2017/2017-03-12.html" class="sidebar-link">《人类简史》读书笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>2016</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2016/2016-12-31.html" class="sidebar-link">2016 &amp; 2017</a></li><li><a href="/2016/2016-11-16.html" class="sidebar-link">《围城》读书笔记</a></li><li><a href="/2016/2016-10-29.html" class="sidebar-link">《血色浪漫》读书笔记</a></li><li><a href="/2016/2016-09-21.html" class="sidebar-link">这段时间的感受与见闻</a></li><li><a href="/2016/hello-world.html" class="sidebar-link">《乔布斯传》读书笔记</a></li><li><a href="/2016/liqi.html" class="sidebar-link">我是荒野大镖客，这是我的利器</a></li><li><a href="/2016/2016-04-23.html" class="sidebar-link">学习日常</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><strong>正则总结 &amp; 速查</strong>.</p> <p>与其遇到复杂的正则表达式跑去直接搜结果还不如彻彻底底把正则表达式搞明白,搞透.要不然需求稍微一改就 GG 了.</p> <h2 id="匹配字符"><a href="#匹配字符" class="header-anchor">#</a> 匹配字符</h2> <h4 id="字符组"><a href="#字符组" class="header-anchor">#</a> 字符组</h4> <p>只匹配一个字符.</p> <ul><li><h4 id=""><a href="#" class="header-anchor">#</a> [ - ]</h4></li></ul> <p>范围表示法, 使用连字符 &quot;-&quot; 来省略和简写.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">[</span>123456abcdefABCD<span class="token punctuation">]</span> 可简写成 <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">-</span>6a<span class="token operator">-</span>fA<span class="token operator">-</span><span class="token constant">D</span><span class="token punctuation">]</span>
</code></pre></div><ul><li><h4 id="-2"><a href="#-2" class="header-anchor">#</a> [^ ]</h4></li></ul> <p>排除字符组</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^abc]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'abc abbc abbbc abbbbc'</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot; &quot;, &quot; &quot;, &quot; &quot;]</span>
</code></pre></div><h4 id="元字符"><a href="#元字符" class="header-anchor">#</a> 元字符</h4> <table><thead><tr><th>元字符</th> <th>描述</th></tr></thead> <tbody><tr><td>.</td> <td>匹配除换行符、回车符、行分隔符和段分隔符除外以外的任意字符, 等价于 <code>[^\n\r\u2028\u2029]</code></td></tr> <tr><td>\d</td> <td>匹配一位数字, 等价于 <code>[0-9]</code></td></tr> <tr><td>\D</td> <td>匹配一位除数字外的任意字符, 等价于 <code>[^0-9]</code></td></tr> <tr><td>\w</td> <td>匹配字母, 数字, 下划线, 等价于 <code>[0-9a-zA-Z_]</code></td></tr> <tr><td>\W</td> <td>匹配非(字母, 数字, 下划线)的字符, 等价于 <code>[^0-9a-zA-Z_]</code></td></tr> <tr><td>\s</td> <td>匹配空白符, 包括空格、水平制表符、垂直制表符、换行符、回车符、换页符, 等价于 <code>[\t\v\n\r\f]</code></td></tr> <tr><td>\S</td> <td>匹配非空白符, 等价于 <code>[^\t\v\n\r\f]</code></td></tr> <tr><td><code>[\d\D]</code>、<code>[\w\W]</code>、<code>[\s\S]</code>、<code>[^]</code></td> <td>匹配任意字符</td></tr></tbody></table> <h4 id="量词"><a href="#量词" class="header-anchor">#</a> 量词</h4> <ul><li><h4 id="m-n"><a href="#m-n" class="header-anchor">#</a> {m, n}</h4></li></ul> <p>横向模糊匹配,表示连续出现最少 m 次,最多 n 次. 属于贪婪匹配, 尽可能多地匹配.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ab{1,3}c</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">let</span> re1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ab{2,}c</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span> <span class="token comment">// 表示至少出现 2 次</span>
<span class="token keyword">let</span> re2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ab{2}c</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span> <span class="token comment">// 等价于 {2, 2} , 表示出现 2 次</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'abc abbc abbbc abbbbc'</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;abc&quot;, &quot;abbc&quot;, &quot;abbbc&quot;]</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;abc&quot;, &quot;abbc&quot;, &quot;abbbc&quot;]</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;abbc&quot;]</span>
</code></pre></div><ul><li><h4 id="-3"><a href="#-3" class="header-anchor">#</a> ?</h4></li></ul> <p>表示出现或者不出现, 等价于 <code>{0, 1}</code>, 惰性匹配.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ab{2,3}?c</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'abc abbc abbbc abbbbc'</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;ab&quot;, &quot;ab&quot;, &quot;bc&quot;, &quot;ab&quot;, &quot;bb&quot;, &quot;ab&quot;, &quot;bb&quot;, &quot;bc&quot;]</span>
</code></pre></div><ul><li><h4 id="-4"><a href="#-4" class="header-anchor">#</a> +</h4></li></ul> <p>表示至少出现一次, 等价于 <code>{1,}</code>.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ab+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'abc abbc abbbc abbbbc'</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;ab&quot;, &quot;abb&quot;, &quot;abbb&quot;, &quot;abbbb&quot;]</span>
</code></pre></div><ul><li><h4 id="-5"><a href="#-5" class="header-anchor">#</a> *</h4></li></ul> <p>表示出现任意次, 有可能会不出现, 等价于 <code>{0,}</code>.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ab*c</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'ac abc abbc abbbc abbbbc'</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;ac&quot;, &quot;abc&quot;, &quot;abbc&quot;, &quot;abbbc&quot;, &quot;abbbbc&quot;]</span>
</code></pre></div><h4 id="多选分支"><a href="#多选分支" class="header-anchor">#</a> 多选分支</h4> <ul><li><h4 id="管道符"><a href="#管道符" class="header-anchor">#</a> | (管道符)</h4></li></ul> <p>可以理解为&quot;或&quot;, 具体形式为 <code>(p1|p2|p3)</code> , 表示其中任何之一. 也是惰性匹配, 即前面匹配上了后面就不匹配了.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ab|abc</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'ac abc abbc abbbc abbbbc'</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;ab&quot;, &quot;ab&quot;, &quot;ab&quot;, &quot;ab&quot;]</span>
</code></pre></div><h2 id="匹配位置"><a href="#匹配位置" class="header-anchor">#</a> 匹配位置</h2> <p>位置是相邻字符之间的位置. 可以理解成 '' 空字符, 如 <code>java</code> 等价于如下形式:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'java'</span> <span class="token operator">==</span> <span class="token string">''</span> <span class="token operator">+</span> <span class="token string">'j'</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token operator">+</span> <span class="token string">'a'</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token operator">+</span> <span class="token string">'v'</span> <span class="token operator">+</span> <span class="token string">''</span> <span class="token operator">+</span> <span class="token string">'a'</span>  <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><h4 id="-6"><a href="#-6" class="header-anchor">#</a> ^</h4></li></ul> <p>匹配开头, 在多行匹配中匹配行开头.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'JavaScript'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;&quot;]</span>
<span class="token string">'JavaScript'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'I love '</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;I love JavaScript&quot;</span>
</code></pre></div><ul><li><h4 id="-7"><a href="#-7" class="header-anchor">#</a> $</h4></li></ul> <p>匹配结尾, 在多行匹配中匹配行结尾.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'JavaScript'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;&quot;]</span>
<span class="token string">'JavaScript'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">' is cool!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;JavaScript is cool!&quot;</span>
</code></pre></div><ul><li><h4 id="b-和-b"><a href="#b-和-b" class="header-anchor">#</a> \b 和 \B</h4></li></ul> <p><code>\b</code> 匹配单词边界, <code>\w</code> 和 <code>\W</code> 之间的位置, <code>\w</code> 和 <code>^</code> (开头位置)之间的位置, 以及 <code>\w</code> 和 <code>$</code> (结尾位置)之间的位置.
<code>\B</code> 匹配非 <code>\b</code> 的位置.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'JavaScript(ES6) TypeScript2.1.4'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// &quot;*JavaScript*(*ES6*) *TypeScript2*.*1*.*4*&quot;</span>

<span class="token string">'JavaScript(ES6) TypeScript2.1.4'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\B</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span>
<span class="token comment">// &quot;J*a*v*a*S*c*r*i*p*t(E*S*6)* T*y*p*e*S*c*r*i*p*t*2.1.4&quot;</span>
</code></pre></div><ul><li><h4 id="p-和-p"><a href="#p-和-p" class="header-anchor">#</a> (?=p) 和 (?!p)</h4></li></ul> <p><code>(?=p)</code> 匹配 p 前面的位置.
<code>(?!p)</code> 匹配 p 后面的位置.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'JavaScript'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=a)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;J*av*aScript&quot;</span>
<span class="token string">'JavaScript'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?!a)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;*Ja*va*S*c*r*i*p*t*&quot;</span>
</code></pre></div><h2 id="括号分组"><a href="#括号分组" class="header-anchor">#</a> 括号分组</h2> <ul><li><h4 id="分组"><a href="#分组" class="header-anchor">#</a> 分组</h4></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(ab)+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'ac abc abbc ababc abbbbc'</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;ab&quot;, &quot;ab&quot;, &quot;abab&quot;, &quot;ab&quot;]</span>

re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\d{4})-(\d{2})-(\d{2})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
str <span class="token operator">=</span> <span class="token string">'2017-07-25'</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;2017-07-25&quot;, &quot;2017&quot;, &quot;07&quot;, &quot;25&quot;, index: 0, input: &quot;2017-07-25&quot;]</span>
RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">;</span> <span class="token comment">// &quot;2017&quot;</span>
RegExp<span class="token punctuation">.</span>$2<span class="token punctuation">;</span> <span class="token comment">// &quot;07&quot;</span>
RegExp<span class="token punctuation">.</span>$3<span class="token punctuation">;</span> <span class="token comment">// &quot;25&quot;</span>
RegExp<span class="token punctuation">.</span>$4<span class="token punctuation">;</span> <span class="token comment">// &quot;&quot;</span>
str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>re<span class="token punctuation">,</span> <span class="token string">'$2/$3/$1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;07/25/2017&quot;</span>

re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^((\d)(\d(\d)))\1\2\3\4$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span> <span class="token comment">// \n 代表 $n</span>
str <span class="token operator">=</span> <span class="token string">'1231231233'</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;1231231233&quot;, &quot;123&quot;, &quot;1&quot;, &quot;23&quot;, &quot;3&quot;, index: 0, input: &quot;1231231233&quot;]</span>
</code></pre></div><p><strong>$n</strong>代表当前匹配分组第 n 个分组.</p> <ul><li><h4 id="分支结构"><a href="#分支结构" class="header-anchor">#</a> 分支结构</h4></li></ul> <p>(p1|p2)</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(ab|bc)+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'ac abc abbc ababc abbcbc'</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;ab&quot;, &quot;abbc&quot;, &quot;abab&quot;, &quot;abbcbc&quot;]</span>
</code></pre></div><ul><li><h4 id="非捕获分组"><a href="#非捕获分组" class="header-anchor">#</a> 非捕获分组</h4></li></ul> <p><code>(?:p)</code>, 非捕获分组不会引用分组, 也不会在正则表达式里反向引用.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?:ab)+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'ac abc abbc ababc abbbbc'</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;ab&quot;, &quot;ab&quot;, &quot;abab&quot;, &quot;ab&quot;]</span>
RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">;</span> <span class="token comment">// &quot;&quot;</span>
</code></pre></div><h2 id="flags"><a href="#flags" class="header-anchor">#</a> Flags</h2> <table><thead><tr><th>flag</th> <th>说明</th></tr></thead> <tbody><tr><td>i</td> <td>不区分大小写</td></tr> <tr><td>g</td> <td>全局匹配</td></tr> <tr><td>m</td> <td>多行匹配</td></tr></tbody></table> <h2 id="运算优先级"><a href="#运算优先级" class="header-anchor">#</a> 运算优先级</h2> <ol><li><code>\</code> 转义运算符</li> <li><code>()</code>, <code>(?:)</code>, <code>(?=)</code>, <code>(?!)</code>, <code>[]</code></li> <li><code>*</code>, <code>+</code>, <code>?</code>, <code>{n}</code>, <code>{n,}</code>, <code>{n,m}</code> 限定符</li> <li><code>^</code>, <code>$</code> 位置</li> <li><code>|</code> 多选分支</li></ol> <h2 id="反斜杠匹配速查"><a href="#反斜杠匹配速查" class="header-anchor">#</a> 反斜杠匹配速查</h2> <table><thead><tr><th>转义字符</th> <th>说明</th></tr></thead> <tbody><tr><td>\t</td> <td>横向制表符(tab)</td></tr> <tr><td>\n</td> <td>换行符</td></tr> <tr><td>\v</td> <td>垂直制表符</td></tr> <tr><td>\f</td> <td>换页符</td></tr> <tr><td>\r</td> <td>回车符</td></tr> <tr><td>\0</td> <td>null</td></tr> <tr><td>\.</td> <td>.</td></tr> <tr><td>\+</td> <td>+</td></tr> <tr><td>\*</td> <td>*</td></tr> <tr><td>\?</td> <td>?</td></tr> <tr><td>\^</td> <td>^</td></tr> <tr><td>\$</td> <td>$</td></tr> <tr><td>\[</td> <td>[</td></tr> <tr><td>\]</td> <td>]</td></tr> <tr><td>\(</td> <td>(</td></tr> <tr><td>\)</td> <td>)</td></tr> <tr><td>\|</td> <td>\</td></tr> <tr><td>\/</td> <td>/</td></tr> <tr><td>\</td> <td>\</td></tr></tbody></table> <h2 id="regexp"><a href="#regexp" class="header-anchor">#</a> RegExp</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>partern<span class="token operator">:</span> RegExp <span class="token operator">|</span> string<span class="token punctuation">,</span> flags<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">)</span>
</code></pre></div><ul><li><h4 id="exec-string-string-regexpexecarray-null"><a href="#exec-string-string-regexpexecarray-null" class="header-anchor">#</a> exec(string: string): RegExpExecArray | null;</h4></li></ul> <p><code>exec()</code> 方法进行搜索匹配, 返回一个结果数组或 <code>null</code> .</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'2017-07-25'</span><span class="token punctuation">;</span>
re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;2017&quot;, index: 0, input: &quot;2017-07-25&quot;]</span>
re<span class="token punctuation">.</span>lastIndex<span class="token punctuation">;</span> <span class="token comment">// 4</span>
re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;07&quot;, index: 5, input: &quot;2017-07-25&quot;]</span>
re<span class="token punctuation">.</span>lastIndex<span class="token punctuation">;</span> <span class="token comment">// 7</span>
re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;25&quot;, index: 8, input: &quot;2017-07-25&quot;]</span>
re<span class="token punctuation">.</span>lastIndex<span class="token punctuation">;</span> <span class="token comment">// 10</span>
re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
re<span class="token punctuation">.</span>lastIndex<span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div><p>每次 <code>exec</code> 方法都从 <code>lastIndex</code> 的下一个索引 <code>(index)</code> 开始, 在全局匹配模式 <code>(g)</code> 下, <code>lastIndex</code> 值都会改变, 非全局匹配模式下不变 ( <code>test</code> 方法同样适用).</p> <ul><li><h4 id="test-string-string-boolean"><a href="#test-string-string-boolean" class="header-anchor">#</a> test(string: string): boolean;</h4></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\d{4})-(\d{2})-(\d{2})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'2017-07-25'</span><span class="token punctuation">;</span>
re<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/2017/jsTips.html" class="prev">
        JavaScript Tips
      </a></span> <span class="next"><a href="/2017/string.html">
        String 踩坑
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.efdf1017.js" defer></script><script src="/assets/js/2.d444b0a2.js" defer></script><script src="/assets/js/1.7ca1e89d.js" defer></script><script src="/assets/js/39.2f9ba8d7.js" defer></script>
  </body>
</html>
